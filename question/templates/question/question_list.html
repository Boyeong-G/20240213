{% extends 'question/base.html' %}
{% load static %}
{% block main_area %}

<div class="q_search mt-3 mb-4 p-4 ps-5 pe-5 rounded-4">
    <!-- finder -->
    <form method="get" action="">
        <div class="ps-1 pe-2 row">
            <div class="col-1">
                <span class="me-4" style="font-size: 20px; border-right-color: #464646;">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </span>
            </div>
            <div class="col-10">
                <input type="text" name="searchQ" id="searchQ" class="form-control border-0"
                       style="box-shadow:none; background-color: #80E12A;">
            </div>
            <div class="col-1">
                <input type="submit" value="search" class="btn text-secondary ms-auto" style="font-size: 15px;">
            </div>
        </div>
    </form>
    <!-- endfinder -->
</div>

<div class="mb-5 ps-5 pe-5">
    {% if searchQ %}
    {% if search_question_list %}
    {% for q in search_question_list %}
    <div class="p-1 pt-1 pb-1">
        <a href="{{ q.get_absolute_url }}" class="font_color1 font_color2">
            <div class="back_color background ps-4 pe-4">
                <div class="leftAlign">
                    <h4>Q. {{ q.summary | truncatechars:15 }}</h4>
                    <span class="text-muted" id="rightAlign">({{ q.created_at.year }}/{{ q.created_at.month }}/{{ q.created_at.day }}&nbsp;&nbsp;{{ q.created_at.time }})</span>
                </div>
                <div class="m-2 ps-4 pe-4">
                    <span>{{ q.question | truncatechars:25 }}</span>
                </div>
            </div>
        </a>
        <hr />
    </div>
    {% endfor %}
    {% else %}
    {% if searchQ %}
    <div class="text-center">
        <h4>
            No matching search results were found.
        </h4>
    </div>
    {% else %}
    <div class="text-center">
        <h4>
            There are no posts written.
        </h4>
    </div>
    {% endif %}
    {% endif %}

    {% else %}
    {% for q in question %}
    <div class="p-1 pt-1 pb-1">
        <a href="{{ q.get_absolute_url }}" class="font_color1 font_color2">
            <div class="back_color background ps-4 pe-4">
                <div class="leftAlign">
                    <h4>Q. {{ q.summary | truncatechars:15 }}</h4>
                    <span class="text-muted" id="rightAlign">({{ q.created_at.year }}/{{ q.created_at.month }}/{{ q.created_at.day }}&nbsp;&nbsp;{{ q.created_at.time }})</span>
                </div>
                <div class="m-2 ps-4 pe-4">
                    <span>{{ q.question | truncatechars:25 }}</span>
                </div>
            </div>
        </a>
        <hr />
    </div>
    {% endfor %}
    {% endif %}
</div>

{% endblock %}